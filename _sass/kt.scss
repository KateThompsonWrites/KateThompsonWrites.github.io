$jumbotron-bg: transparent;
$jumbotron-padding: 3rem;
$font-family-sans-serif: 'Shadows Into Light Two', cursive;
$font-size-base: 1.5rem;

$nav-link-padding-y: 1rem;
$nav-link-padding-x: 2rem;
$navbar-nav-link-padding-x: $nav-link-padding-x;
$navbar-padding-y: 0;

@import "bootstrap/bootstrap";

html {
  background: #f8f8f8;
}

footer, body {
  max-width: 1600px;
  margin: 0 auto;
}

body {
  min-height: 100vh;
  border: 1px solid #f0f0f0;
  box-shadow: 0 0 2vw rgba(0,0,0, 0.05)
}

#contentWrapper {
  margin-top: 80px;
}

.jumbotron {
  margin-bottom:0;
  position: relative;
  overflow: hidden;
  h1 {
    z-index: 1;
    position: relative;
    margin: 20px 0 -20px;
    a {
      color: $body-color;
      &:hover {
        text-decoration: none;
      }
    }
  }
  .background {
    img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 0;
    }
  }

  #dandelion {
    img {
      position: absolute;
      $dandelion-opacity: 30%;
      &.flower {
        left: 50px;
        bottom: 0;
        height: 200px;
        opacity: $dandelion-opacity;
        z-index: 2;
      }
      &.seed {
        $seed-start-rotation: 25deg;
        left: 107px;
        bottom: 145px;
        height: 40px;
        opacity: $dandelion-opacity;
        transform: rotate($seed-start-rotation);
        z-index: 4;

        $dist: 1600px; // @TODO - 100%? calc width?
        &.seed-animated {
          z-index: 3;
          opacity: 0%;

          $seeds: 15;
          $seed-animation-duration: 15s;

          $seed-animation-y-min: -180px;
          $seed-animation-y-max:   30px;
          $seed-animation-y-range: $seed-animation-y-max - $seed-animation-y-min;

          $seed-animation-rotate-min: -90deg;
          $seed-animation-rotate-max:  180deg;
          $seed-animation-rotate-range: $seed-animation-rotate-max - $seed-animation-rotate-min;

          @for $i from 0 to $seeds {
            $seed-animation-name: #{"sa_" + $i};
            @keyframes #{$seed-animation-name} {
              0% {
                opacity: 0%;
              }
              1% {
                transform: translateX(0px)
                           translateY(0)
                           rotate($seed-start-rotation);
                opacity: $dandelion-opacity;
              }

              100% {
                transform: translateX($dist)
                           translateY(#{ $seed-animation-y-min + (random() * $seed-animation-y-range) })
                           rotate(#{ $seed-animation-rotate-min + (random() * $seed-animation-rotate-range) });
                opacity: 0%
              }
            }

            &:nth-of-type(#{$seeds + 'n'} + #{$i}) {
              animation: $seed-animation-name $seed-animation-duration #{$i * (($seed-animation-duration) / $seeds)} ease-in infinite;
              filter: invert(0.5) sepia(1) saturate(5) hue-rotate( #{ $i * (360deg / $seeds) } );
            }
          }
        }
      }
    }
  }
}

footer, .navbar {
  background: rgba($dark, 0.1);
}

.navbar {
  position: absolute;
  width: 100%;
  bottom: 0;
  padding: 0 80px;
  transition: all .35s ease;

  &.collapsing,
  &.collapse:not(.show) {
    display: flex;
    height: 56px;
  }
  &.collapsing,
  &.show {
    background: $dark;
    .nav-item {
      .nav-link {
        color: $light;
      }
    }
  }
}
